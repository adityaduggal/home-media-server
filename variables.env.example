# ==============================================================================
# HOME MEDIA SERVER CONFIGURATION TEMPLATE
# ==============================================================================
#
# SETUP INSTRUCTIONS:
#   1. Copy this file: cp variables.env.example variables.env
#   2. Edit the new file: nano variables.env
#   3. Fill in values for your server (see instructions below for each setting)
#   4. Run setup: ./setup.sh
#
# ⚠️  IMPORTANT: variables.env is NOT committed to Git (see .gitignore)
#                Keep your private IPs and paths confidential!
#
# ==============================================================================

# ==============================================================================
# [NETWORK CONFIGURATION]
# ==============================================================================
# Server hostname - Used for SSH and local network identification
# Get it by running: hostname
SERVER_NAME="my-media-server"

# Server's internal static IP address (NOT localhost/127.0.0.1)
# Get it by running: hostname -I
# Example: 192.168.1.100 or 10.0.0.50
SERVER_IP="192.x.x.x"

# Linux user account that will run the services
# Get it by running: whoami
# Example: aditya or ubuntu
SERVER_USER="your-username"

# ==============================================================================
# [SYSTEM CONFIGURATION]
# ==============================================================================
# System timezone - Used for timestamps in logs and all services
# Format: Continent/City (e.g., Asia/Kolkata, America/New_York, Europe/London)
# List all timezones: timedatectl list-timezones
TIMEZONE="Asia/Kolkata"

# Disable SSH password authentication after SSH keys are verified
# ⚠️  ONLY set to true AFTER verifying key-based login works!
# Steps: 1) Run setup with false, 2) Test SSH key login, 3) Set to true and rerun
DISABLE_SSH_PASSWORDS=false

# ==============================================================================
# [STORAGE PATHS]
# ==============================================================================
# Primary media storage directory - Where all your movies, TV shows, music live
# This directory is mounted READ-ONLY to prevent accidental modifications
# Ensure plenty of free space for your media library
# Examples: /mnt/media, /home/aditya/media, /data/media
SERVER_MEDIA_DIR="/mnt/media"

# Download directory - Where torrent/download clients place completed files
# Must be accessible by download applications (Deluge, etc.)
# Can be a subdirectory of SERVER_MEDIA_DIR
# Examples: /mnt/media/downloads, /home/aditya/downloads
SERVER_DOWNLOAD_DIR="/mnt/media/download"

# Container configuration directory - Where app configs/databases are stored
# Each app gets its own subdirectory here (e.g., /opt/podman_configs/jellyfin)
# Use fast storage for better performance (SSD preferred)
# Examples: /opt/podman_configs, /var/lib/podman_configs, /home/aditya/podman_configs
SERVER_PODMAN_CONFIG_DIR="/opt/podman_configs"

# ==============================================================================
# [APPLICATION PORTS]
# ==============================================================================
# Port mapping: Choose unused ports on your server
# Check if port is available: sudo netstat -tulpn | grep :PORT_NUMBER
# or: lsof -i :PORT_NUMBER
#
# Valid port ranges: 1024-65535 (ports < 1024 require root)
# Avoid common ports: 22 (SSH), 80 (HTTP), 443 (HTTPS), 9090 (Cockpit)

DELUGE_PORT=8112
JELLYFIN_PORT=8096

# ==============================================================================
# [DELUGE - TORRENT CLIENT CONFIGURATION]
# ==============================================================================
# Deluge is a lightweight BitTorrent client for downloading content
# Web UI: http://SERVER_IP:DELUGE_PORT
# Default login: admin / deluge
#
# Log level: debug, info, warning, error
DELUGE_LOG_LEVEL="info"

# Memory limit for Deluge container
# Leave empty for unlimited, or specify: 256M, 512M, 1G, 2G
DELUGE_MEMORY_LIMIT="512M"

# CPU cores available to Deluge
# 1 core is usually sufficient for torrent operations
DELUGE_CPU_LIMIT="1"

# Enable rate limiting to prevent network saturation
# Set maximum download/upload speeds (in kilobytes per second)
# 0 = unlimited, 5120 = 5MB/s, 1024 = 1MB/s
DELUGE_DOWNLOAD_RATE_LIMIT=0
DELUGE_UPLOAD_RATE_LIMIT=0

# Temporary directory for incomplete downloads (optional, keeps disk organized)
# Set to same partition as SERVER_DOWNLOAD_DIR for efficient moving
DELUGE_INCOMPLETE_DIR="${SERVER_DOWNLOAD_DIR}/.incomplete"

# ==============================================================================
# [JELLYFIN - MEDIA SERVER CONFIGURATION]
# ==============================================================================
# Jellyfin is a free media system for organizing and streaming your personal media
# Web UI: http://SERVER_IP:JELLYFIN_PORT
# Documentation: https://jellyfin.org/docs/general/administration/configuration/
#
# Log level: debug, info, warning, error
JELLYFIN_LOG_LEVEL="info"

# Memory limit for Jellyfin container
# Larger libraries benefit from more memory
# Leave empty for unlimited, or specify: 512M, 1G, 2G, 4G
JELLYFIN_MEMORY_LIMIT=""

# CPU cores available to Jellyfin
# Recommend 2+ cores for smooth playback and transcoding
# Examples: 0.5, 1, 2, 4
JELLYFIN_CPU_LIMIT="2"

# Enable hardware video acceleration for efficient transcoding
# Requires compatible GPU (Intel QuickSync, AMD VAAPI, or NVIDIA)
# Set to true if you have a GPU, false for CPU-only transcoding
JELLYFIN_ENABLE_GPU_ACCELERATION=false

# GPU device path - Varies by system
# Intel iGPU: /dev/dri/renderD128 or /dev/dri/card0
# AMD GPU: /dev/dri/card0 or /dev/dri/renderD128
# Check available devices: ls -la /dev/dri/
JELLYFIN_GPU_DEVICE="/dev/dri/renderD128"

# Initial admin account (optional - leave empty to configure via web UI)
# If set, Jellyfin will create this account automatically on first start
JELLYFIN_ADMIN_USERNAME=""
JELLYFIN_ADMIN_PASSWORD=""

# Transcoding settings
# Temporary directory for video transcoding (high I/O, use fast storage)
# Separate from config for better performance (ideally on SSD or ramdisk)
JELLYFIN_TRANSCODE_DIR="/tmp/jellyfin_transcode"

# Cache directory for thumbnails and artwork
# Improves library loading speed - can be large with many items
JELLYFIN_CACHE_DIR="/var/cache/jellyfin"

# ==============================================================================
# [PODMAN CUSTOMIZATION]
# ==============================================================================
# Additional container registries for pulling images
# Space-separated list of registry addresses
# Default includes Docker Hub, GitHub Container Registry, LinuxServer.io
# Add or remove registries as needed for your deployment
CUSTOM_PODMAN_REGISTRIES="docker.io ghrc.io lscr.io quay.io"

# ==============================================================================
# END OF CONFIGURATION
# ==============================================================================
# Questions? Check the README.md or visit: https://github.com/adityaduggal/home-media-server
# =============================================================================="